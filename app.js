// 馬データ（双方向対応 - 父馬47頭・母馬67頭 = 計114頭）
const horsesData = {
  "キングヘイロー": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "タカノセクレタリー",
        "名馬スキル": "ペースアップ"
      }
    ],
    "as_mother": []
  },
  "リアルスティール": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "フォエヴァーダーリング",
        "名馬スキル": "世界を制した日本代表(最終直線速度+持続)"
      }
    ],
    "as_mother": []
  },
  "ポップコーンジャズ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "キングカメハメハ",
        "名馬スキル": "抜け出し"
      }
    ]
  },
  "Greendesert": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "Parkexpress",
        "名馬スキル": "ペースアップ"
      }
    ],
    "as_mother": []
  },
  "ヨハネスブルグ": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "ホウライサンデー",
        "名馬スキル": "加速アップ"
      }
    ],
    "as_mother": []
  },
  "オペラハウス": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "ロイヤルバイオ",
        "名馬スキル": "勝負根性アップ"
      },
      {
        "名馬配合ランク": "3",
        "母馬": "ワンスウエド",
        "名馬スキル": "王者の歩み(終盤から400mまで目標速度アップ)"
      }
    ],
    "as_mother": []
  },
  "カズサグリッター": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "アグネスワールド",
        "名馬スキル": "勝負根性アップ"
      }
    ]
  },
  "タニノジャドール": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "バゴ",
        "名馬スキル": "勝負根性アップ"
      }
    ]
  },
  "シャルード": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "パシフィカス",
        "名馬スキル": "スピードセンス(上がり速度)"
      }
    ],
    "as_mother": []
  },
  "ラヴァリーノ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "モーリス",
        "名馬スキル": "スタート巧者"
      }
    ]
  },
  "カーリング": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "シングスピール",
        "名馬スキル": "スタート巧者"
      }
    ]
  },
  "ラキア": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "キタサンブラック",
        "名馬スキル": "スタミナアップ"
      }
    ]
  },
  "メジロティターン": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "メジロオーロラ",
        "名馬スキル": "メジロの系譜(先手必勝　絶大アップ)"
      }
    ],
    "as_mother": []
  },
  "サクラヒラメキ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "サクラローレル",
        "名馬スキル": "ラストスパート"
      }
    ]
  },
  "トニービン": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "シンコウラブリイ",
        "名馬スキル": "重馬場巧者、芝"
      }
    ],
    "as_mother": []
  },
  "エリモピクシー": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "アグネスタキオン",
        "名馬スキル": "逆襲"
      },
      {
        "名馬配合ランク": "1",
        "父馬": "ダンスインザダーク",
        "名馬スキル": "上がり速度"
      }
    ]
  },
  "マイケイティーズ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "エンドスウィープ",
        "名馬スキル": "世界の夜を照らす月(最終直線速度)"
      }
    ]
  },
  "バレークイーン": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "サンデーサイレンス",
        "名馬スキル": "掛かり軽減"
      },
      {
        "名馬配合ランク": "2",
        "父馬": "ネオユニヴァース",
        "名馬スキル": "最終直線速度"
      },
      {
        "名馬配合ランク": "2",
        "父馬": "Cearleon",
        "名馬スキル": "加速アップ"
      }
    ]
  },
  "ジェンティルドンナ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "モーリス",
        "名馬スキル": "先駆け"
      }
    ]
  },
  "エアグルーヴ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "キングカメハメハ",
        "名馬スキル": "良血のドラ息子(上がり速度)"
      },
      {
        "名馬配合ランク": "3",
        "父馬": "サンデーサイレンス",
        "名馬スキル": "良血の令嬢(ラストスパート)"
      },
      {
        "名馬配合ランク": "1",
        "父馬": "ダンスインザダーク",
        "名馬スキル": "スタミナアップ"
      }
    ]
  },
  "ランニングヒロイン": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "グラスワンダー",
        "名馬スキル": "最終直線持続"
      }
    ]
  },
  "ダンスインザダーク": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "エアグルーヴ",
        "名馬スキル": "スタミナアップ"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "エリモピクシー",
        "名馬スキル": "上がり速度"
      }
    ],
    "as_mother": []
  },
  "ロイヤルペルラ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "ネオユニヴァース",
        "名馬スキル": "対抗意識"
      },
      {
        "名馬配合ランク": "1",
        "父馬": "マンハッタンカフェ",
        "名馬スキル": "底力"
      }
    ]
  },
  "ヤンキーローズ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "ドゥラメンテ",
        "名馬スキル": "華麗なお嬢さん(最終直線速度　絶大アップ)"
      }
    ]
  },
  "ファンドリパール": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "ブライアンズタイム",
        "名馬スキル": "底力"
      },
      {
        "名馬配合ランク": "1",
        "父馬": "ホスピタリティ",
        "名馬スキル": "最終直線持続"
      }
    ]
  },
  "デアリングバード": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "エピファネイア",
        "名馬スキル": "トリプルティアラ"
      }
    ]
  },
  "スペシャルウィーク": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "ビワハイジ",
        "名馬スキル": "素晴らしい景色(オールアップ6　絶大アップ)"
      }
    ],
    "as_mother": []
  },
  "スカーレットブーケ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "アグネスタキオン",
        "名馬スキル": "真紅の輝き(逃亡者)"
      },
      {
        "名馬配合ランク": "3",
        "父馬": "サンデーサイレンス",
        "名馬スキル": "才能と努力の結実(上がり速度)"
      }
    ]
  },
  "メモリアルサマー": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "エルコンドルパサー",
        "名馬スキル": "レース速度アップ"
      }
    ]
  },
  "ワンスウエド": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "オペラハウス",
        "名馬スキル": "王者の歩み(終盤から400mまで目標速度アップ)"
      }
    ]
  },
  "フォエヴァーダーリング": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "リアルスティール",
        "名馬スキル": "世界を制した日本代表(最終直線速度+持続)"
      }
    ]
  },
  "ジョウノマチエール": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "サンデーサイレンス",
        "名馬スキル": "追い上げ"
      }
    ]
  },
  "ベガ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "サンデーサイレンス",
        "名馬スキル": "最終直線速度"
      },
      {
        "名馬配合ランク": "2",
        "父馬": "ティンバーカントリー",
        "名馬スキル": "スピードアップダート"
      }
    ]
  },
  "シンボリルドルフ": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "トウカイナチュラル",
        "名馬スキル": "奇跡の帝王(ラストスパート)"
      }
    ],
    "as_mother": []
  },
  "パシフィカス": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "シャルード",
        "名馬スキル": "スピードセンス(上がり速度)"
      },
      {
        "名馬配合ランク": "3",
        "父馬": "ブライアンズタイム",
        "名馬スキル": "シャドーロールの怪物(オールアップ3)"
      }
    ]
  },
  "エルコンドルパサー": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "メモリアルサマー",
        "名馬スキル": "レース速度アップ"
      }
    ],
    "as_mother": []
  },
  "モーリス": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "ジェンティルドンナ",
        "名馬スキル": "先駆け"
      },
      {
        "名馬配合ランク": "2",
        "母馬": "ラヴァリーノ",
        "名馬スキル": "スタート巧者"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "ジュベルアリ",
        "名馬スキル": "ラストスパート"
      }
    ],
    "as_mother": []
  },
  "クラシカルテースト": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "クロフネ",
        "名馬スキル": "追い上げ"
      }
    ]
  },
  "ローズエントリー": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "マグニテュード",
        "名馬スキル": "先手必勝"
      }
    ]
  },
  "インナーアージ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "ロードカナロア",
        "名馬スキル": "芝適性アップ"
      }
    ]
  },
  "クロフネ": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "グローバルピース",
        "名馬スキル": "追い上げ"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "クラシカルテースト",
        "名馬スキル": "追い上げ"
      }
    ],
    "as_mother": []
  },
  "グラスワンダー": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "サクラメガ",
        "名馬スキル": "直線一気"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "チェリーラブ",
        "名馬スキル": null
      },
      {
        "名馬配合ランク": "2",
        "母馬": "ランニングヒロイン",
        "名馬スキル": "最終直線持続"
      },
      {
        "名馬配合ランク": "2",
        "母馬": "レットルダムール",
        "名馬スキル": "対抗意識"
      }
    ],
    "as_mother": []
  },
  "ゼンノロブロイ": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "ビワハイジ",
        "名馬スキル": "ラストスパート"
      }
    ],
    "as_mother": []
  },
  "グレースアドマイヤ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "サンデーサイレンス",
        "名馬スキル": "息を入れる"
      },
      {
        "名馬配合ランク": "2",
        "父馬": "ブライアンズタイム",
        "名馬スキル": "逃亡者"
      }
    ]
  },
  "ダンシングキャップ": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "ホワイトナルビー",
        "名馬スキル": "芦毛の怪物(体重デバフ軽減、根性アップ)"
      }
    ],
    "as_mother": []
  },
  "ダンシングブレーヴ": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "インターシャルマン",
        "名馬スキル": "先手必勝"
      },
      {
        "名馬配合ランク": "3",
        "母馬": "リヴァーガール",
        "名馬スキル": "スピード自慢の少女(追い上げ)"
      }
    ],
    "as_mother": []
  },
  "サンデーサイレンス": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "エアグルーヴ",
        "名馬スキル": "良血の令嬢(ラストスパート)"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "グレースアドマイヤ",
        "名馬スキル": "息を入れる"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "ジョウノマチエール",
        "名馬スキル": "追い上げ"
      },
      {
        "名馬配合ランク": "3",
        "母馬": "スカーレットブーケ",
        "名馬スキル": "才能と努力の結実(上がり速度)"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "トウカイナチュラル",
        "名馬スキル": "気性アップ"
      },
      {
        "名馬配合ランク": "2",
        "母馬": "バレークイーン",
        "名馬スキル": "掛かり軽減"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "ビワハイジ",
        "名馬スキル": "距離延長適正"
      },
      {
        "名馬配合ランク": "2",
        "母馬": "ベガ",
        "名馬スキル": "最終直線速度"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "ホワイトウォーターアフェア",
        "名馬スキル": "追い上げ"
      },
      {
        "名馬配合ランク": "2",
        "母馬": "ロンドンブリッチ",
        "名馬スキル": "先手必勝"
      }
    ],
    "as_mother": []
  },
  "タバサトウショウ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "エンドスウィープ",
        "名馬スキル": "激情の箒星(逆襲)"
      }
    ]
  },
  "LemonDropKid": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "Untouchable",
        "名馬スキル": "夢載せる重戦車(スピ、スタ、根性アップ)"
      }
    ],
    "as_mother": []
  },
  "エピファネイア": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "デアリングバード",
        "名馬スキル": "トリプルティアラ"
      }
    ],
    "as_mother": []
  },
  "バトルプラン": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "ウーマンインレッド",
        "名馬スキル": "逃亡者"
      }
    ],
    "as_mother": []
  },
  "フォーティナイナー": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "シーズグレイス",
        "名馬スキル": "スタート巧者"
      }
    ],
    "as_mother": []
  },
  "アゲヒバリ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "タニノギムレット",
        "名馬スキル": "加速アップ"
      }
    ]
  },
  "インターシャルマン": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "ダンシングブレーヴ",
        "名馬スキル": "先手必勝"
      }
    ]
  },
  "サクラローレル": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "サクラヒラメキ",
        "名馬スキル": "ラストスパート"
      }
    ],
    "as_mother": []
  },
  "ウーマンインレッド": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "バトルプラン",
        "名馬スキル": "逃亡者"
      }
    ]
  },
  "グローバルピース": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "クロフネ",
        "名馬スキル": "追い上げ"
      }
    ]
  },
  "サクラバクシンオー": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "ショウナングレイス",
        "名馬スキル": "対抗意識"
      }
    ],
    "as_mother": []
  },
  "アグネスワールド": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "カズサグリッター",
        "名馬スキル": "勝負根性アップ"
      }
    ],
    "as_mother": []
  },
  "ネオユニヴァース": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "バレークイーン",
        "名馬スキル": "最終直線速度"
      },
      {
        "名馬配合ランク": "3",
        "母馬": "ホワイトウォーターアフェア",
        "名馬スキル": "希望の光(最終直線持続)"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "ロイヤルペルラ",
        "名馬スキル": "対抗意識"
      }
    ],
    "as_mother": []
  },
  "マンハッタンカフェ": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "ロイヤルペルラ",
        "名馬スキル": "底力"
      }
    ],
    "as_mother": []
  },
  "ビワハイジ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "アグネスタキオン",
        "名馬スキル": "勝負根性アップ"
      },
      {
        "名馬配合ランク": "1",
        "父馬": "サンデーサイレンス",
        "名馬スキル": "距離延長適正"
      },
      {
        "名馬配合ランク": "3",
        "父馬": "スペシャルウィーク",
        "名馬スキル": "素晴らしい景色(オールアップ6　絶大アップ)"
      },
      {
        "名馬配合ランク": "1",
        "父馬": "ゼンノロブロイ",
        "名馬スキル": "ラストスパート"
      }
    ]
  },
  "キングカメハメハ": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "エアグルーヴ",
        "名馬スキル": "良血のドラ息子(上がり速度)"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "サクラメガ",
        "名馬スキル": "反骨心"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "トゥザヴィクトリー",
        "名馬スキル": "上がり速度"
      },
      {
        "名馬配合ランク": "2",
        "母馬": "ポップコーンジャズ",
        "名馬スキル": "抜け出し"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "ムードインディゴ",
        "名馬スキル": "息を入れる"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "ハンドレッドスコア",
        "名馬スキル": null
      }
    ],
    "as_mother": []
  },
  "ブライアンズタイム": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "キャットクイル",
        "名馬スキル": "胡蝶蘭の夢(追い上げ)"
      },
      {
        "名馬配合ランク": "2",
        "母馬": "グレースアドマイヤ",
        "名馬スキル": "逃亡者"
      },
      {
        "名馬配合ランク": "3",
        "母馬": "パシフィカス",
        "名馬スキル": "シャドーロールの怪物(オールアップ3)"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "ファンドリパール",
        "名馬スキル": "底力"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "ロンドンブリッジ",
        "名馬スキル": "スタート巧者"
      }
    ],
    "as_mother": []
  },
  "ロンドンブリッチ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "サンデーサイレンス",
        "名馬スキル": "先手必勝"
      }
    ]
  },
  "ホワイトナルビー": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "ダンシングキャップ",
        "名馬スキル": "芦毛の怪物(体重デバフ軽減、根性アップ)"
      },
      {
        "名馬配合ランク": "2",
        "父馬": "ブレイヴェストローマン",
        "名馬スキル": "上がり速度アップ"
      }
    ]
  },
  "マグニテュード": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "ローズエントリー",
        "名馬スキル": "先手必勝"
      }
    ],
    "as_mother": []
  },
  "ホワイトウォーターアフェア": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "サンデーサイレンス",
        "名馬スキル": "追い上げ"
      },
      {
        "名馬配合ランク": "2",
        "父馬": "シングスピール",
        "名馬スキル": "ラストスパート"
      },
      {
        "名馬配合ランク": "3",
        "父馬": "ネオユニヴァース",
        "名馬スキル": "希望の光(最終直線持続)"
      }
    ]
  },
  "Green Desert": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "Park Express",
        "名馬スキル": "ペースアップ"
      }
    ],
    "as_mother": []
  },
  "リヴァーガール": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "ダンシングブレーヴ",
        "名馬スキル": "スピード自慢の少女(追い上げ)"
      }
    ]
  },
  "Polish precedent": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "Cocotte",
        "名馬スキル": "世界を駆ける宰相(最終直線持続)"
      }
    ],
    "as_mother": []
  },
  "エンドスウィープ": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "タバサトウショウ",
        "名馬スキル": "激情の箒星(逆襲)"
      },
      {
        "名馬配合ランク": "3",
        "母馬": "マイケイティーズ",
        "名馬スキル": "世界の夜を照らす月(最終直線速度)"
      }
    ],
    "as_mother": []
  },
  "ショウナングレイス": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "サクラバクシンオー",
        "名馬スキル": "対抗意識"
      }
    ]
  },
  "ジュベルアリ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "モーリス",
        "名馬スキル": "ラストスパート"
      }
    ]
  },
  "アグネスデジタル": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "ヤマニンアリーナ",
        "名馬スキル": "気性アップ"
      }
    ],
    "as_mother": []
  },
  "ロンドンブリッジ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "ブライアンズタイム",
        "名馬スキル": "スタート巧者"
      }
    ]
  },
  "シングスピール": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "カーリング",
        "名馬スキル": "スタート巧者"
      },
      {
        "名馬配合ランク": "2",
        "母馬": "ホワイトウォーターアフェア",
        "名馬スキル": "ラストスパート"
      }
    ],
    "as_mother": []
  },
  "タニノギムレット": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "アゲヒバリ",
        "名馬スキル": "加速アップ"
      }
    ],
    "as_mother": []
  },
  "チェリーラブ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "グラスワンダー",
        "名馬スキル": null
      }
    ]
  },
  "アグネスタキオン": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "エリモピクシー",
        "名馬スキル": "逆襲"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "オースミハルカ",
        "名馬スキル": "逃亡者"
      },
      {
        "名馬配合ランク": "3",
        "母馬": "スカーレットブーケ",
        "名馬スキル": "真紅の輝き(逃亡者)"
      },
      {
        "名馬配合ランク": "1",
        "母馬": "ビワハイジ",
        "名馬スキル": "勝負根性アップ"
      }
    ],
    "as_mother": []
  },
  "オースミハルカ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "アグネスタキオン",
        "名馬スキル": "逃亡者"
      }
    ]
  },
  "ホスピタリティ": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "ファンドリパール",
        "名馬スキル": "最終直線持続"
      }
    ],
    "as_mother": []
  },
  "ホウライサンデー": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "ヨハネスブルグ",
        "名馬スキル": "加速アップ"
      }
    ]
  },
  "オルフェーヴル": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "ダイワパッション",
        "名馬スキル": "ギアチェンジ"
      }
    ],
    "as_mother": []
  },
  "ティンバーカントリー": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "ベガ",
        "名馬スキル": "スピードアップダート"
      }
    ],
    "as_mother": []
  },
  "ナターレ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "キタサンブラック",
        "名馬スキル": "勝負根性アップ"
      }
    ]
  },
  "ロイヤルバイオ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "オペラハウス",
        "名馬スキル": "勝負根性アップ"
      }
    ]
  },
  "Park Express": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "Green Desert",
        "名馬スキル": "ペースアップ"
      }
    ]
  },
  "バゴ": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "タニノジャドール",
        "名馬スキル": "勝負根性アップ"
      }
    ],
    "as_mother": []
  },
  "ブレイヴェストローマン": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "ホワイトナルビー",
        "名馬スキル": "上がり速度アップ"
      }
    ],
    "as_mother": []
  },
  "ヤマニンアリーナ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "アグネスデジタル",
        "名馬スキル": "気性アップ"
      }
    ]
  },
  "トゥザヴィクトリー": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "キングカメハメハ",
        "名馬スキル": "上がり速度"
      }
    ]
  },
  "ロードカナロア": {
    "combinations": [
      {
        "名馬配合ランク": "3",
        "母馬": "フサイチパンドラ",
        "名馬スキル": "瞳に夢を(オールアップ6 絶大アップ)"
      },
      {
        "名馬配合ランク": "2",
        "母馬": "インナーアージ",
        "名馬スキル": "芝適性アップ"
      },
      {
        "名馬配合ランク": "2",
        "母馬": "レキシールー",
        "名馬スキル": null
      }
    ],
    "as_mother": []
  },
  "Parkexpress": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "Greendesert",
        "名馬スキル": "ペースアップ"
      }
    ]
  },
  "Cearleon": {
    "combinations": [
      {
        "名馬配合ランク": "2",
        "母馬": "バレークイーン",
        "名馬スキル": "加速アップ"
      }
    ],
    "as_mother": []
  },
  "シンコウラブリイ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "トニービン",
        "名馬スキル": "重馬場巧者、芝"
      }
    ]
  },
  "タカノセクレタリー": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "キングヘイロー",
        "名馬スキル": "ペースアップ"
      }
    ]
  },
  "キャットクイル": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "ブライアンズタイム",
        "名馬スキル": "胡蝶蘭の夢(追い上げ)"
      }
    ]
  },
  "チェストケローズ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "キタサンブラック",
        "名馬スキル": "直線一気"
      }
    ]
  },
  "トウカイナチュラル": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "サンデーサイレンス",
        "名馬スキル": "気性アップ"
      },
      {
        "名馬配合ランク": "3",
        "父馬": "シンボリルドルフ",
        "名馬スキル": "奇跡の帝王(ラストスパート)"
      }
    ]
  },
  "レキシールー": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "ロードカナロア",
        "名馬スキル": null
      }
    ]
  },
  "キタサンブラック": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "ナターレ",
        "名馬スキル": "勝負根性アップ"
      },
      {
        "名馬配合ランク": "3",
        "母馬": "ライジングクロス",
        "名馬スキル": "北十字星の輝き(スピードと根性がより大きくアップ)"
      },
      {
        "名馬配合ランク": "2",
        "母馬": "ラキア",
        "名馬スキル": "スタミナアップ"
      },
      {
        "名馬配合ランク": "2",
        "母馬": "チェストケローズ",
        "名馬スキル": "直線一気"
      }
    ],
    "as_mother": []
  },
  "ドゥラメンテ": {
    "combinations": [
      {
        "名馬配合ランク": "1",
        "母馬": "ダイワパッション",
        "名馬スキル": null
      },
      {
        "名馬配合ランク": "3",
        "母馬": "ヤンキーローズ",
        "名馬スキル": "華麗なお嬢さん(最終直線速度　絶大アップ)"
      }
    ],
    "as_mother": []
  },
  "Cocotte": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "Polish precedent",
        "名馬スキル": "世界を駆ける宰相(最終直線持続)"
      }
    ]
  },
  "ハンドレッドスコア": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "キングカメハメハ",
        "名馬スキル": null
      }
    ]
  },
  "ライジングクロス": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "キタサンブラック",
        "名馬スキル": "北十字星の輝き(スピードと根性がより大きくアップ)"
      }
    ]
  },
  "シーズグレイス": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "フォーティナイナー",
        "名馬スキル": "スタート巧者"
      }
    ]
  },
  "メジロオーロラ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "メジロティターン",
        "名馬スキル": "メジロの系譜(先手必勝　絶大アップ)"
      }
    ]
  },
  "ダイワパッション": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "オルフェーヴル",
        "名馬スキル": "ギアチェンジ"
      },
      {
        "名馬配合ランク": "1",
        "父馬": "ドゥラメンテ",
        "名馬スキル": null
      }
    ]
  },
  "ムードインディゴ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "キングカメハメハ",
        "名馬スキル": "息を入れる"
      }
    ]
  },
  "Untouchable": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "LemonDropKid",
        "名馬スキル": "夢載せる重戦車(スピ、スタ、根性アップ)"
      }
    ]
  },
  "サクラメガ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "1",
        "父馬": "キングカメハメハ",
        "名馬スキル": "反骨心"
      },
      {
        "名馬配合ランク": "1",
        "父馬": "グラスワンダー",
        "名馬スキル": "直線一気"
      }
    ]
  },
  "フサイチパンドラ": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "3",
        "父馬": "ロードカナロア",
        "名馬スキル": "瞳に夢を(オールアップ6 絶大アップ)"
      }
    ]
  },
  "レットルダムール": {
    "combinations": [],
    "as_mother": [
      {
        "名馬配合ランク": "2",
        "父馬": "グラスワンダー",
        "名馬スキル": "対抗意識"
      }
    ]
  }
};

// 検索機能
function searchHorse() {
  const input = document.getElementById("searchInput").value.trim();
  const resultDiv = document.getElementById("result");

  if (!input) {
    resultDiv.innerHTML = "<p>馬名を入力してください</p>";
    return;
  }

  // 部分一致検索
  const matches = Object.keys(horsesData).filter(name =>
    name.includes(input)
  );

  if (matches.length === 0) {
    resultDiv.innerHTML = "<p>該当する馬が見つかりません</p>";
    return;
  }

  // 1件のみヒット → 詳細表示
  if (matches.length === 1) {
    showHorseDetail(matches[0]);
    return;
  }

  // 複数ヒット → 候補表示
  let html = "<h3>候補（" + matches.length + "件）</h3><ul>";
  matches.forEach(name => {
    const horse = horsesData[name];
    const hasFather = horse.combinations && horse.combinations.length > 0;
    const hasMother = horse.as_mother && horse.as_mother.length > 0;
    
    let label = "";
    if (hasFather && hasMother) {
      label = " <span style='color:#4CAF50;font-size:12px'>(父馬・母馬)</span>";
    } else if (hasFather) {
      label = " <span style='color:#2196F3;font-size:12px'>(父馬)</span>";
    } else if (hasMother) {
      label = " <span style='color:#ff6b6b;font-size:12px'>(母馬)</span>";
    }
    
    html += `<li><span class="horse-name" onclick="selectHorse('${name}')">${name}</span>${label}</li>`;
  });
  html += "</ul>";
  resultDiv.innerHTML = html;
}

// 候補から馬を選択
function selectHorse(name) {
  document.getElementById("searchInput").value = name;
  showHorseDetail(name);
}

// 馬の詳細表示
function showHorseDetail(name) {
  const horse = horsesData[name];
  const resultDiv = document.getElementById("result");

  if (!horse) {
    resultDiv.innerHTML = `
      <h2>${name}</h2>
      <p style="color:red">この馬の情報は登録されていません</p>
    `;
    return;
  }

  let html = `<h2>${name}</h2>`;

  const hasFatherCombos = horse.combinations && horse.combinations.length > 0;
  const hasMotherCombos = horse.as_mother && horse.as_mother.length > 0;

  // 父馬としての配合情報
  if (hasFatherCombos) {
    html += "<h3>父馬としての配合（" + horse.combinations.length + "件）</h3>";
    horse.combinations.forEach(combo => {
      html += `
        <div class="combination-item">
          <div>配合ランク：<span class="rank">${combo["名馬配合ランク"]}</span></div>
          <div>母馬：<span class="horse-name" onclick="selectHorse('${combo["母馬"]}')">${combo["母馬"]}</span></div>
          <div>スキル：<span class="skill">${combo["名馬スキル"]}</span></div>
        </div>
      `;
    });
  }

  // 母馬としての配合情報
  if (hasMotherCombos) {
    html += "<h3>母馬としての配合（" + horse.as_mother.length + "件）</h3>";
    horse.as_mother.forEach(combo => {
      html += `
        <div class="combination-item" style="border-left-color:#ff6b6b;">
          <div>配合ランク：<span class="rank">${combo["名馬配合ランク"]}</span></div>
          <div>父馬：<span class="horse-name" onclick="selectHorse('${combo["父馬"]}')">${combo["父馬"]}</span></div>
          <div>スキル：<span class="skill">${combo["名馬スキル"]}</span></div>
        </div>
      `;
    });
  }

  // 配合情報がない場合
  if (!hasFatherCombos && !hasMotherCombos) {
    html += `
      <div style="padding:20px;background-color:#f5f5f5;border-left:4px solid #999;border-radius:4px;">
        <p style="margin:0;color:#666;">
          この馬の配合情報は登録されていません
        </p>
      </div>
    `;
  }

  resultDiv.innerHTML = html;
}

// Enterキーでも検索できるように
document.getElementById("searchInput").addEventListener("keypress", function(event) {
  if (event.key === "Enter") {
    searchHorse();
  }
});
